# Grep命令和基本正则表达式

## 文本处理工具

### 三剑客： grep, sed, awk

awk: Linux上的实现为gawk, 文本报告生成器。

grep: 文本过滤工具（模式， pattern）

​	-E ： 基本正则表达式

​	-G: 	扩展表达式

sed: stream editor ,流编辑器， 文本编辑工具。

### 正则表达式

正则表达式分两类，一个是基本正则表达式（BRE）, 扩展正则表达式：ERE

正则表达式引擎：不同的工具使用的引擎不一样。

基本正则表达式的元字符： 

- 字符匹配
  - . :	匹配任意单个字符
  - [] :   匹配指定范围内的任意的单个字符
  - [^]：匹配指定范围外的任意单个字符
  - [:lower:], [:punct:]，[:alpha:] .....见通配符那节
- 匹配次数
  - 用在要指定其出现的字符的后面，用于限制其前面的字符的出现的次数。默认工作于贪婪模式。
  - *：匹配任意次数，0，1， 多次。
  - .*：匹配任意长度的任意字节。
  - \?：匹配其前面的字符0次或者一次。其前面的字符可有可无。
  - \\+：一次或者多次
  - \\｛m｝: 自己指定匹配m次数
  - \\{m, n}: 匹配最少m， 最多n次， **｛0， n｝最多n次，  ｛m, \｝最少m次**
- 位置锚定
  - ^：行首锚定， 用于模式的最左侧， 
  - $：行尾锚定， 用户模式的最右侧。
  - ^PATTERN$： 用pattern 来匹配整行。
  - ^$: 空白行
  - ^[[:space:]]*$: 空行或者包含空白字符的行
  - \\< 或者 \\b：单词词首锚定
  - \\> 或者 \\b:   词尾锚定
  - \\<PATTERN\\>: 匹配完整单词。
- 分组及引用
  - \\(xy\\): 需要使用转义字符，将一个或者多个字符捆绑在一起，当做一个整理。
  - 分组括号中的模式匹配到的内容会被正则表达式引擎**自动记录到内部的变量中**。 变量形如：\\1, \\2, \\3:  `grep "\(l..e\).*\1" file.txt` 其中的\\1是对 \(l..e\)匹配到的值进行引用，自动进行赋值。这个叫**后向引用，匹配前面括号中匹配到的字符**两个是一样的。

## grep

Global search REgular expression and print out the line. 作用是文本搜索工具，根据用户指定的过滤条件对文本进行逐行进行匹配检查，打印匹配到的行。模式是由正则表达式的元字符及文本字符所编写的过滤条件。

**格式：** grep [OPTIONS] [FIEL........];   grep [OPTIONS] [-e PATTERN -f | FIEL  ] [FILE.....]

```bash
grep "UUID" /etc/fstab # 简答示例
```

**选项：**

--color=auto: 颜色高亮

-i:  或略字符大小写

-o:  只匹配大文本本身，而不是那一行。

-v:  **反向匹配， 显示不能匹配到的行**

-E: 表示支持扩展的正则表达式。

-q:  --quiet, --silent; 静默模式，不输出任何信息。

-A # ; -B #; -C # : #号表示数字。分别显示后， 前，前后的多少行。



